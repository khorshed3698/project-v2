<?php

namespace App\Modules\CompanyRegSingleForm\Controllers;

use App\Libraries\ACL;
use App\Libraries\CommonFunction;
use App\Libraries\Encryption;
use App\Modules\CompanyRegSingleForm\Models\CompanyRegSingleForm;
use App\Modules\CompanyRegSingleForm\Models\NewReg;
use App\Modules\ProcessPath\Models\ProcessList;
use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
use Illuminate\Support\Facades\App;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Redirect;
use Illuminate\Support\Facades\Session;
use Illuminate\Support\Facades\URL;

class DeclarationUploadController extends Controller
{
    protected $process_type_id;
    protected $aclName;
    public function __construct()
    {
        if(Session::has('lang')){
            App::setLocale(Session::get('lang'));
        }
        $this->process_type_id = 134;
        $this->aclName = 'CompanyRegSingleForm';
    }

    /**
     * @param Request $request
     * @return \Illuminate\Http\RedirectResponse|\Illuminate\Routing\Redirector
     */
    public function saveDecUpload(Request $request){
        // Set permission mode and check ACL
        $app_id = (!empty($request->get('app_id')) ? Encryption::decodeId($request->get('app_id')) : '');
        $mode = (!empty($request->get('app_id')) ? '-E-' : '-A-');
        if (!ACL::getAccsessRight($this->aclName, $mode, $app_id)) {
            abort('400', 'You have no access right! Contact with system admin for more information.');
        }


        // Validation Rules when application submitted
        $rules = [];
        $messages = [];
        if ($request->get('actionBtn') != 'draft') {
            $rules['declaration_name'] = 'required';
            $rules['declaration_position_id'] = 'required';
//            $rules['declaration_organization'] = 'required';
            $rules['declaration_address'] = 'required';
            $rules['declaration_district_id'] = 'required';
//            $rules['upload_doc_name_id'] = 'required';
//          $rules['upload_scaned_copy'] = 'required';
            $rules['memorandum_asso_no'] = 'required';
            $rules['article_asso_no'] = 'required';
        }

        $this->validate($request, $rules,$messages);

        try {
            DB::beginTransaction();
            if ($request->get('app_id')) {
                $appData = CompanyRegSingleForm::find($app_id);
                $processData = ProcessList::firstOrNew(['process_type_id' => $this->process_type_id, 'ref_id' => $appData->id]);
            } else {
                $appData = new CompanyRegSingleForm();
//                dd($appData);
                $processData = new ProcessList();
            }

            if (CommonFunction::asciiCharCheck($request->get('declaration_name'))){
                $appData->declaration_name=$request->get('declaration_name');
            }else{
                Session::flash('error', 'non-ASCII Characters found in declaration_name [DU-1001]');
                return Redirect::to(URL::previous() . "#step5");
            }
            $declaration_position = explode('@', $request->get('declaration_position_id'));
            $appData->declaration_position_id = !empty($declaration_position[0]) ? $declaration_position[0] : '';
            $appData->declaration_position_name = !empty($declaration_position[1]) ? $declaration_position[1] : '';

            if (CommonFunction::asciiCharCheck($request->get('declaration_organization'))){
                $appData->declaration_organization = $request->get('declaration_organization');
            }else{
                Session::flash('error', 'non-ASCII Characters found in declaration_organization [DU-1002]');
                return Redirect::to(URL::previous() . "#step5");
            }
            if (CommonFunction::asciiCharCheck($request->get('declaration_address'))){
                $appData->declaration_address=$request->get('declaration_address');
            }else{
                Session::flash('error', 'non-ASCII Characters found in declaration_address [DU-1003]');
                return Redirect::to(URL::previous() . "#step5");
            }
            $declaration_district = explode('@', $request->get('declaration_district_id'));
            $appData->declaration_district_id = !empty($declaration_district[0]) ? $declaration_district[0] : '';
            $appData->declaration_district_name = !empty($declaration_district[1]) ? $declaration_district[1] : '';

            $appData->memorandum_asso_no=$request->get('memorandum_asso_no');
            $appData->article_asso_no=$request->get('article_asso_no');
            $appData->save();

            $appData->save();

            //update sequence
            $sequence=CompanyRegSingleForm::find($app_id);
            $sequence->sequence=12;
            $sequence->save();
            Session::put('sequence', $sequence->sequence);

            DB::commit();

            if ($processData->status_id == -1) {
                Session::flash('success', 'Successfully updated the Application!');
            } elseif ($processData->status_id == 1) {
                Session::flash('success', 'Successfully Application Submitted !');
            } elseif (in_array($processData->status_id, [2])) {
                Session::flash('success', 'Successfully Application Re-Submitted !');
            } else {
                Session::flash('error', 'Failed due to Application Status Conflict. Please try again later! [BI-1023]');
            }

            if ($request->get('actionBtn') == "draft") {
                return redirect('licence-application/list/' . Encryption::encodeId($this->process_type_id));
            }
            if ($request->get('app_id') && !empty($request->get('app_id'))) {

                return Redirect::to(URL::previous() . "#step12");
            }

            return redirect('licence-applications/company-registration/add#step12');

        } catch (\Exception $e) {
            DB::rollback();
            Session::flash('error', CommonFunction::showErrorPublic($e->getMessage()) . ' [EAC-1060]');
            return redirect()->back()->withInput();
        }
    }

    public function asciicheck(){
        $string = '{"nc_cert_no":"2019253741","nc_submission_no":"2019140753","oss_app_id":"NC-04Apr2019-00002","req_json_data":{"registrationData":{"generalInfo":{"entityName":"Sinan Consulting Services Limited","entityType":"1","liabilityType":1,"entityAddress":"N.H.B 5/2, FLAT-B/3 (Opposite to Police Staff College), Mirpur-14, Kafrul, Dhaka","entityEmail":"siraj@batworld.com","entityDistrict":1,"mainBusinessObjective":"Consultancy services to all kind of services.","businessSector":1,"businessSubSector":8,"authorizedCapital":"10000000","numberOfShare":1000000,"valueOfEachShare":10,"minimumNumberOfDirectors":3,"maximumNumberOfDirectors":5,"quorumOfAgm":3,"quorumOfAgmInWord":"Three","quorumOfBoardOfDirectorsMeeting":3,"quorumOfBoardOfDirectorsMeetingInWord":"Three","durationChairmanship":3,"durationMd":3},"qualificationShareEachDirector":{"numberOfQualificationShare":"100","valueOfEachShare":"10","nameOfWitness":"Foyezul Islam","witnessAddress":"NHB 5/2, B-3, Mirpur 14, Kafrul","witnessDistrict":1},"listOfDirectors":[{"name":"Mohammad Sirajul Islam","formarName":"","fathersName":"Mohammad Shaidul Alam","mothersName":"Jahanara Begum","residentialAddress":"House No. NHB 5/2, Flat No. B/3, Section Mirpur 14 (Opposite of Police Staff College). \r\nKafrul.","residentialDistrict":1,"permanentAddress":"Vill: Noakhala (Dorzi Bari), Post: Yeachin Hazir Bazar, P.S.:Chatkhil,","permanentDistrict":27,"mobile":"01712411749","email":"sirajulislamit@gmail.com","nationality":13,"otherNationality":0,"dateOfBirth":"01/03/1989","tin":2147483647,"position":"2","signingAgreementOfShare":"0","nominatingEntity":null,"dateOfAppoinment":null,"otherBusinessOccupation":"","directorshipInOtherCompany":"","numberOfSubscribedShares":"10000","nationalId":"7511047745023","representedSerialNo":""},{"name":"Israt Jahan","formarName":"","fathersName":"Rofiqul Islam","mothersName":"Rokhsana Pervin","residentialAddress":"House No. NHB 5/2, Flat No. B/3 Section Mirpur 14 (Opposite of Police Staff College). \r\nKafrul","residentialDistrict":1,"permanentAddress":"Vill: Noakhala (Dorzi Bari), Post: Yeachin Hazir Bazar, P.S.:Chatkhil, ","permanentDistrict":27,"mobile":"01739576694","email":"isratjahanrakhe@gmail.com","nationality":13,"otherNationality":0,"dateOfBirth":"09/12/1987","tin":0,"position":"2","signingAgreementOfShare":"0","nominatingEntity":0,"dateOfAppoinment":null,"otherBusinessOccupation":"","directorshipInOtherCompany":"","numberOfSubscribedShares":"10000","nationalId":"1232323232","representedSerialNo":""},{"name":"Foyezul Islam","formarName":"","fathersName":"Mohammad Shaidul Alam","mothersName":"Jahanara Begum","residentialAddress":"House No. NHB 5/2, Flat No. B/3 Section Mirpur 14 (Opposite of Police Staff College). \r\nKafrul\r\n","residentialDistrict":1,"permanentAddress":"Vill: Noakhala (Dorzi Bari), Post: Yeachin Hazir Bazar, P.S.:Chatkhil","permanentDistrict":27,"mobile":"01712110884","email":"foyezulislam48@gmail.com","nationality":13,"otherNationality":0,"dateOfBirth":"10/04/1990","tin":0,"position":"2","signingAgreementOfShare":"0","nominatingEntity":0,"dateOfAppoinment":null,"otherBusinessOccupation":"","directorshipInOtherCompany":"","numberOfSubscribedShares":"10000","nationalId":"1212121212","representedSerialNo":""}],"particularsOfCorporateSubscriberList":[],"witnessList":[{"name":"Foyezul Islam","address":"House No. NHB 5/2, Flat No. B/3 \r\nSection Mirpur 14 (Opposite of Police Staff College). \r\nKafrul, Dhaka-1216","phone":"01712110884","nationalId":"9898989898"},{"name":"Faridul Islam","address":"House No. NHB 5/2, Flat No. B/3 \r\nSection Mirpur 14 (Opposite of Police Staff College). \r\nKafrul, Dhaka-1216","phone":"01710953337","nationalId":"8989898989"}],"filingBy":{"name":"Mohammad Sirajul Islam","position":2,"address":"House No. NHB 5/2, Flat No. B/3 \r\nSection Mirpur 14 (Opposite of Police Staff College). \r\nKafrul","fillingDistrict":1},"registrationSignedBy":{"name":"Mohammad Sirajul Islam","position":"2","organization":"Sinan Consulting Services Limited","address":"House No. NHB 5/2, Flat No. B/3 \r\nSection Mirpur 14 (Opposite of Police Staff College). \r\nKafrul","signedByDistrict":"1"},"aoaClauseList":[{"clauseTitle":3,"clauseDetails":"The Company is Private Limited Company within the meaning of section 2 (1) Clause\r\n(Q) of the Companies Act, 1994 and accordingly:\r\n\r\ni) No invitation shall be issued to the public to subscribe for any shares, debentures\r\nor debenture stock of the Company;\r\n\r\nii) The number of members of the Company (exclusive of the persons in the\r\nemployment of the Company) shall be limited to 50, provided that for the purposes\r\nof these provisions when two or more persons jointly hold one or more shares in the\r\nCompany, they shall be treated as a single member, and the right to transfer shares\r\nin the Company is restricted in the manner and to the extent hereinafter appearing.","serialId":1},{"clauseTitle":35,"clauseDetails":"The business of the Company shall be commenced from the date of incorporation of\r\nthe company.","serialId":2},{"clauseTitle":5,"clauseDetails":"each with the\r\nrights, privileges and conditions attaching thereto as are provided by the regulations\r\nof the Company for the time being, with power to increase and reduce the capital of\r\nthe Company and to divide this shares in the capital for the time being into several\r\nclasses and to attach thereto respectively such preferential, deferred, qualify or\r\nspecial rights, privileges or conditions as may be determined by or in accordance\r\nwith the regulations of the Company and to vary, modify or abrogate any such right,\r\nprivileges or conditions in such manner as may for the time being be provided by the\r\nregulations of the Company. Subject to the provisions of the Articles, the share\r\nshall be under the control of the directors who may allot or otherwise dispose of the\r\nsame.","serialId":3},{"clauseTitle":6,"clauseDetails":"The certificate of title to shares and debentures shall be issued under the common\r\nseal of the Company and signed by the Managing Director. \r\n\r\nEvery member shall be entitled, free of charge, to one certificate for all the shares\r\nand debentures registered in his/her name. Every certificate shall specify the\r\nnumber and denoting numbers of the shares or debentures in respect of which it\r\nwas issued and the amount paid-up thereon.\r\n\r\nIf any share certificate shall be defaced, worn out, destroyed or lost it any be\r\nreissued on such evidence being produced and on such indemnity (if any) being\r\ngiven as the Directors require and (in case of defacement or wearing out) on\r\ndelivering of the old certificate and on payment of such sum not exceeding Tk.\r\n15.00 (Taka Fifteen) as the Directors may from time to time require.","serialId":4},{"clauseTitle":36,"clauseDetails":"The company shall have a lien on every share (not being a fully paid share) for all\r\nmoneys whether presently payable or not, called or payable at a fixed time in\r\nrespect of those shares. The company shall also have lien on all shares (other than\r\nfully paid shares) standing registered in the name of a single person for all moneys\r\npayable by him or his estate to the company, but the directors may at any time\r\ndeclare any share to be wholly or partly exempt from the provisions of this clause.\r\nThe company¿s lien shall also extend to the dividend payable thereon. The\r\npurchase¿s name shall be registered as the holder or the share and he shall not be\r\nbound to see the application of the purchase money, nor shall his title to the share\r\nbe affected by reason of any irregularity or invalidity in the proceedings with\r\nreference to the sale.","serialId":5},{"clauseTitle":36,"clauseDetails":"The Company may sell or otherwise dispose of in such manner as the Directors may\r\nthink fit any share on which the company has a lien, but no sale shall be made\r\nunless the sum in respect of which the lien exists, in presently payable nor until the\r\nexpiration of fourteen days after a notice in writing stating and demanding the\r\npayment of the amount in respect of which the lien exist as is presently payable,\r\nhas been given to the registered holder for the time being of the share, or the\r\nperson entitled to the share by reason of death or insolvency of the holder of the\r\nshare. The proceeds of the sale shall be applied in payment of the amount in\r\nrespect of which the lien exists, as is presently payable, and the residue shall\r\n(subject to like lien for sum not presently payable as existing upon the share prior to\r\nthe sale) be paid to the person entitled to the share at the date of sale.","serialId":6},{"clauseTitle":7,"clauseDetails":"With the approval of the Board of directors any share may be transferred at anytime\r\nby a member to his or her son, daughter, brother-in-law, father, brother, mother or\r\nto his wife or her husband.\r\n\r\nNo transfer of any share shall be made or registered without the previous sanction\r\nof the directors who may without assigning any reason decline to give any such\r\nsanction, and shall decline any transfer involving contravention of clause 3(b) of\r\nthese articles. No share shall be transferred to any outsiders as long as any member\r\nis willing to purchase the same at a fair value to be determined by the Directors in a\r\nBoard meeting. The Instrument of Transfer of shares shall be accompanied by the\r\ncertificate of shares for transfer of shares previously approved by the Board of\r\nDirectors. \r\n","serialId":7},{"clauseTitle":71,"clauseDetails":"The Company may from time to time subject to these presents and the relevant\r\nprovisions of law, in the General Meeting increase its share capital by creation of\r\nnew shares of such amount as it thinks expedient upon such terms and conditions\r\nand with such rights and privileges as may be determined by the Board of Directors.","serialId":8},{"clauseTitle":71,"clauseDetails":"Subject to any direction to the contrary that may be given by the resolution\r\nsanctioning the increasing of share capital and any directive by the Government\r\nand/or Bangladesh Bank, all new shares shall before issue be offered to members in\r\nproportion, as nearly as circumstances admit to the amount of the existing shares\r\nthen held by them. The offer shall be made by notice specifying the number of shares offered and limiting a time within which the offer if not accepted will be\r\ndeemed to be declined and after the expiration of that time, or on the receipt of an\r\nintimation from the person to whom the offer is made that he declines to accept the\r\nshares offered, the Directors may dispose of the same in such manner as they think\r\nmost beneficial to the Company.","serialId":9},{"clauseTitle":9,"clauseDetails":"The Directors may at their discretion borrow any sum(s) of money for the purpose of\r\nthe Company subject to the provisions of these presents.\r\n\r\nThe Directors may raise and secure the payments of such sum(s) in such manner\r\nand upon such terms and conditions in all respects as they think fit and in particular\r\nby the issue of bonds (perpetual or redeemable) or any mortgage or charge or other\r\nsecurity on the undertaking of the whole or any part of the property of the\r\nCompany and the Directors may on behalf of the Company guarantee the whole or\r\nany part of any loans or debts incurred by the Company.","serialId":10},{"clauseTitle":10,"clauseDetails":"The Company shall within a period of not less than one month nor more than six\r\nmonths from the date at which the Company shall be entitled to commence business\r\nhold a General Meeting of the Company, which shall be called the Statutory Meeting\r\nand in connection therewith the Directors shall comply with the provisions of\r\nSection 83 of the Act. The General Meeting of the Company may take place outside\r\nBangladesh.","serialId":11},{"clauseTitle":10,"clauseDetails":"A General Meeting of the Company shall be held within eighteen (18) months from\r\nthe date of incorporation of the company thereafter once at least in every calendar\r\nyear at such time and place as may be determined by the Directors provided that no\r\ninterval longer than fifteen (15) months shall be allowed to elapse between each\r\nordinary general meetings. Such General Meetings shall be called ordinary general\r\nmeetings. All other meetings of the Company other than the Statutory Meeting shall\r\nbe called Extra-ordinary General Meetings.","serialId":12},{"clauseTitle":11,"clauseDetails":"Two (2) members entitled to vote and present in person shall be a quorum for a\r\nGeneral Meeting and no business shall be transacted at any General Meeting unless\r\nthe quorum requisite be present at the commencement of the business.\r\n\r\nThe Board of Directors shall elect one of them to act as the Chairman of the\r\nmeeting and in default of their doing so the members present shall choose one of\r\nthe Directors to take the chair and if no Director is present or those present are not\r\nwilling to take the chair the members shall choose one of the members to be the\r\nChairman of the meeting. \r\n","serialId":13},{"clauseTitle":12,"clauseDetails":"2 (Two) Members present in person and qualified to vote shall form a Quorum in any\r\ngeneral meeting. Whenever the Board of Directors think it necessary, it may call a\r\nGeneral Meeting, whether ordinary or extra-ordinary at such time (subject to the\r\nprovisions of Section 84 of the Act) and place as the Board thinks fit. The Chairman\r\nof the company shall preside at every General Meeting. In absence of Chairman the\r\nBoard of Directors shall choose another to be the Chairman of that meeting. In any general meeting a resolution put to vote of the members shall be decided by a show\r\nof hands unless a poll is demanded in accordance with the provisions of clause (c)\r\nof sub-section (I) of section 85 of the Companies Act, 1994.","serialId":14},{"clauseTitle":14,"clauseDetails":"On a show of hands every member present in person shall have one vote, on a poll\r\nvotes may be given either personally or by proxy or by constituted attorney, and\r\nevery member shall have one vote proxy as a resolution of its directors in\r\naccordance with the provisions of section 85 of the Companies Act is in force. In\r\ncase of any equalisation of votes the Chairman of the meeting each will, have a\r\ncasting vote in addition tot he vote or votes to which they entitled to vote as a\r\nmember. \r\n\r\nNo member shall be entitled to vote unless all instalments or calls or other sum or\r\nsums presently payable by him, in respect of his holding shares in the company has\r\nbeen paid.","serialId":15},{"clauseTitle":15,"clauseDetails":"Unless Otherwise determined by the company in general meeting the number of\r\ndirectors shall not be less than 2( Two ) and not more than 10( Ten ).The following\r\npersons shall be the first directors of the company unless anyone of them voluntarily\r\nresigns the said office or otherwise removed therefrom under the provisions of\r\nsection 108(1) of the companies Act, 1994.","serialId":16},{"clauseTitle":16,"clauseDetails":"The qualification of a Director shall be holding of share of total nominal value of Tk.\r\n1,000 (One Thousand) in the Capital of the company in his/her own name alone and\r\nnot jointly with any other/others.\r\n\r\nThe remuneration of a director shall not exceed Tk. 500/- (Taka five hundred) each\r\nfor meeting of the directors attended by him together with such travelling and other\r\nexpenses as may be incurred for attending the meeting. \r\n","serialId":17},{"clauseTitle":13,"clauseDetails":"2 (Two) Members present in person and qualified to vote shall form a Quorum in any\r\ngeneral meeting. Whenever the Board of Directors think it necessary, it may call a\r\nGeneral Meeting, whether ordinary or extra-ordinary at such time (subject to the\r\nprovisions of Section 84 of the Act) and place as the Board thinks fit. The Chairman\r\nof the company shall preside at every General Meeting. In absence of Chairman the\r\nBoard of Directors shall choose another to be the Chairman of that meeting.","serialId":18},{"clauseTitle":17,"clauseDetails":"The business of the Company shall be managed by the Directors, who may pay all\r\nexpenses incurred in setting up and registering the Company, and may exercise all\r\nsuch powers of the Company as are not, by the Act or any statutory modification\r\nthereof for the time being in force or by these Articles, required to be exercised by\r\nthe Company in General Meeting, subject nevertheless to any regulation of these\r\nArticles, to the provisions of the Act and to such Article being consistent with the\r\naforesaid Articles, as may be prescribed by the Company in its General Meeting. No\r\nregulation made by the Company in General Meeting shall invalidate any prior act of\r\nthe Directors which would have been valid if that Article had not been made.","serialId":19},{"clauseTitle":18,"clauseDetails":"The office of Director shall be vacated if a Director:\r\n\r\na) is found to be of unsound mind by a Court of competent jurisdiction; or\r\n\r\nb) is adjudged insolvent; or\r\n\r\nc) fails to pay calls made on him in respect of shares held by him within the period\r\nas mentioned under Article 13 of these Articles; or\r\n\r\nd) absents himself from three consecutive meetings of the Directors, or for a\r\ncontinuous period of three months, whichever is longer, without leave of absence\r\nfrom the Board of Directors and without appointing an Alternate Director; or\r\n\r\ne) by notice in writing to the Company resigns his office at the Annual General\r\nMeeting of the Shareholders","serialId":20},{"clauseTitle":17,"clauseDetails":"The Directors may meet together for transaction of any business, adjourn and/or\r\notherwise regulate their meetings and proceedings as they may think fit. All\r\nmeetings of Directors shall be presided over by chairman. \r\n\r\nThe Chairman or the Managing Director or in their absence, in case of any\r\nemergency, any Director may convene a meeting of Directors. The Board of\r\nDirectors shall meet at least once every two (2) months. \r\n\r\nNotice of the meeting given to a Director at the address registered with the\r\nCompany shall be deemed to be valid notice. \r\n\r\ni) Generally Seven (7) days notice shall be given for meetings of the Directors. In\r\ncase of emergency the Chairman or Managing Director may hold a meeting of the\r\nDirectors at a shorter notice; provided consent is given by all the Directors to such\r\nshorter notice at the meeting held pursuant thereto.","serialId":21},{"clauseTitle":47,"clauseDetails":"ii) Accidental omission to give notice of any such meeting of the Directors to a\r\nDirector shall not invalidate any resolution passed at any such meeting. \r\n\r\nA director may, and Secretary on the requisition of a director shall at anytime,\r\nsummon a meeting of directors. \r\n\r\nThe quorum necessary for the transaction of the business of the directors shall be\r\n2(two). If no quorum is present within forty five (45) minutes of the time appointed\r\nfor a meeting such meeting will stand automatically adjourned to another day to be\r\ndetermined by the Board. \r\n\r\nResolutions of the Board shall be valid if passed at a meeting at which a quorum of\r\nsimple majority of the members of the Board is present.","serialId":22},{"clauseTitle":19,"clauseDetails":"Mrs. Wu Mei shall be the first Chairman of the Company for a period of 05 (Five)\r\nyears from the date of incorporation. He will preside all over the meeting and\r\nsupervision all the activities of the company. He will preside all over the meeting and\r\nsupervision all the activities of the company. The Chairman may also make such\r\nother appropriate arrangement in this regards as may be deemed required from time\r\nto time.","serialId":23},{"clauseTitle":20,"clauseDetails":"shall be the Managing Director of the Company for a period as may\r\nbe decided by the Board of Directors of the Company. The Managing Director shall\r\nbe entrusted with the responsibility for the day-to-day running and business of the\r\nCompany and the supervision and observance of the general guidelines provided by\r\nthe Board of Directors.","serialId":24},{"clauseTitle":26,"clauseDetails":"The General Meeting shall annually determine the amount of profit out of the\r\ndistributable reserves available for actual distribution (dividend) to the Shareholders.\r\nNo dividend will be paid out to the Shareholders until there has been two (2) years\r\nof positive accumulated cash flow, net of debt services.\r\n\r\nThe Company in General Meeting may declare dividends, but no dividends shall\r\nexceed the amount recommended by the Directors.\r\n\r\nThe Directors may from time to time pay to the Shareholders such interim dividends\r\nas appears to the Directors to be justified by the profits of the Company.","serialId":25},{"clauseTitle":21,"clauseDetails":"The Company shall open Bank Account with any commercial Bank/Banks and shall\r\ndraw money by cheques from the said Accounts as per the decision of Managing\r\nDirector only or by the Board of Directors of the Company from time to time.","serialId":26},{"clauseTitle":24,"clauseDetails":"The auditors of the Company shall be appointed at the General Meeting of\r\nShareholders for a period one year at a time.\r\n\r\nThe Management Team shall, under the supervision of the Board of Directors, keep\r\nand maintain complete and accurate books of accounts in which each and every\r\ntransaction of the Company shall be entered fully and accurately. Such books shall\r\nbe maintained in accordance with International Accounting Standards (IAS), and\r\nshall at all times be maintained at the registered office of the Company. The\r\naudited annual accounts shall be prepared in English.\r\n\r\nThe Company shall provide such financial information to the Shareholders as is\r\nnecessary for the Shareholders to comply with their local accounting requirements.\r\nA Shareholder may obtain access to the accounts, books and records of the\r\nCompany for the purpose of inspection.","serialId":27},{"clauseTitle":23,"clauseDetails":"(a) A notice may be given by the Company to the Shareholders or the Directors\r\neither personally or through registered post to their registered addresses. The\r\nnotice may be served by confirmed telex or facsimile to numbers provided by the\r\nDirectors and the Shareholders to the Company for the giving of notices to them.\r\n\r\n(b)Where a notice is sent by registered post, service of the notice shall be deemed\r\nto be effected by properly addressing, prepaying, registering and posting a\r\nregistered letter containing the notice and, unless the contrary is proved, to have\r\nbeen effected at the time at which the letter would be delivered in the ordinary\r\ncourse of post.","serialId":28},{"clauseTitle":68,"clauseDetails":"Each Shareholder shall, and shall cause its Affiliates and any employee, officer,\r\ndirector, adviser or agent of any of the foregoing to maintain confidentiality and not\r\ndisclose all or any part of any information, reports, documents, specifications,\r\nblueprints, analyses, computer programs or files and/or photographs or drawings or\r\nother materials provided by any other Shareholder (a \"Disclosing Shareholder\"),\r\ndeveloped by the Company (collectively referred to as the \"Information\").","serialId":29},{"clauseTitle":27,"clauseDetails":"The Seal of the Company shall not be affixed to any instrument except with the\r\nauthority of a resolution of the Board of Directors, and in the presence of at least\r\none Director and the Secretary or such other person as the Directors may appoint\r\nfor such purpose. Such Director and Secretary or other person as aforesaid shall\r\nsign every instrument to which the seal of the Company is so affixed in their\r\npresence.","serialId":30},{"clauseTitle":22,"clauseDetails":"The Board of Directors may from time to time appoint any suitable and acceptable","serialId":31},{"clauseTitle":25,"clauseDetails":"The company shall comply with the provision of section 36 of the Companies Act,\r\n1994 as making of annual returns.","serialId":32},{"clauseTitle":28,"clauseDetails":"Every Director, member of the Management Team, agent, auditor, Secretary and\r\nother officer for the time being of the Company shall be indemnified out of the\r\nassets of the Company against any liability incurred by him in defending any\r\nproceedings, whether civil or criminal, in which judgement is given in his favour, or in\r\nwhich he is acquitted, or in connection with any application under Section 396 of\r\nthe Act in which relief is granted to him by the Court.","serialId":33},{"clauseTitle":29,"clauseDetails":"The Chairman, Managing Director, Director, Advisor, Manager, Secretary, Auditors,\r\nAccountants, Officers, Agents or other person employed in the business of the shall\r\nhave to observe strict secrecy respecting all matters which may come to his\r\nknowledge in the discharge of the duties when required to do so by resolution of the\r\ncompany or by court of law or where the person connected is required to do so in\r\norder to comply with any provision of the law or in these presents.","serialId":34}],"moaObjectiveList":[{"serialNumber":1,"objectiveDetail":"To carry on the business of manufacturers, trading, buy, sell, exporters, importers, Marketing, indenters, commission agents, selling agents, distributors, broker, stockiest, merchants, wholesalers, retailers, buyers, general order suppliers and dealers in general merchandise, commodities, articles and goods all description whatsoever.","dmId":4},{"serialNumber":2,"objectiveDetail":"To carry in Bangladesh or elsewhere trade, business manufacture, and/or to act, as business agent, managing agents, selling agents, local agents, sub-agents, sole agents, handling agents, commission agents, indenting agents, indenters, stevedores, brokers for the benefit of the company.","dmId":4},{"serialNumber":3,"objectiveDetail":"To manufacture, repack, import, export, stock, supply, and distribute pharmaceuticals, nutritional, herbals and other medicinal and health care products.","dmId":4},{"serialNumber":4,"objectiveDetail":"To carry on the business of general trading, export and import of all commercial and industrial permissible items, dealers, indenter, manufacturer, general supplier, buying and selling agents, wholesale and distributors, dealers, general merchandiser, carrying contractor of all and every kind of general and special products, goods substance and materials.","dmId":4},{"serialNumber":5,"objectiveDetail":"To attain the business objectives company may enter into Partnership, Jointventure, take over or Amalgamate with any other company and also to take Loans from Bank/other Financial Institutions in such a manner as may company thinks fit.","dmId":4},{"serialNumber":6,"objectiveDetail":"To borrow or raise money or secure the payment of money on such term as the company may consider expedient, including by issue or sale of shares, stock, bonds, debentures, other securities and obligations, perpetual or terminable and or redeemable or otherwise and to secure the same by mortgage, charge or lien on the undertaking and all or any of the real and personal property and assets, present or future and all or any of the uncalled capital for the time being of the company, any to issue and create at par or at a premium per discount, and for such consideration and win and subject to such rights, power, privileges and conditions as may be thought fit, mortgage, charges, memoranda or deposit, debentures or debenture stock, either permanent or redeemable or repayable, and collaterally or future to secure any securities of the company by a trust deed or other assurance.","dmId":4},{"serialNumber":7,"objectiveDetail":"To mortgage the property and assets of the company as securities for loans and/or any credit facilities to be given to any associate company or companies or third party and also to give guarantee securing liabilities of such associate company or companies and/or third party. To attain the business objectives company as subsidiary of Aviation Support Limited enter into Contract, Partnership, Joint venture, take over or Amalgamate with any other company and also to take Loans from Bank/other Financial Institutions in such a manner as company may think fit.","dmId":4}],"archiveDocInfo":{"documentId":"49","moaPages":"15","aoaPages":"15"},"requestInfo":{"entryBy":"","remoteAddress":"","ossApplicationId":"NC-04Apr2019-00002"}}}}';
        $string = json_decode($string,true);

        echo 'requestInfo<br/><br/>';

        foreach($string['req_json_data']['registrationData']['requestInfo'] as $key => $value){
            echo $key.' :'.$value;


            if(mb_detect_encoding($value, 'ASCII', true)){
                echo '    : ASCI VERIFIED';
            }else{
                    echo '    : ASCI NOT VERIFIED'.' <br/>';
                }

            echo '<br/>';
            echo '<br/>';
        }

        exit;
    }
}
