function makeBlank(e){$("#validate_field_"+e).val(""),$(".saved_file_"+e).html(""),$("#other_doc_name_"+e).val("")}function ConfirmDeleteFile(e){if(!confirm("Are you sure you want to delete this file?"))return!1;makeBlank(e)}function makeBlank_value(e,a){document.getElementById("validate_field_"+e).value="",document.getElementById("file"+e).value="",$(".saved_file_"+e).html(""),$(".span_validate_field_"+e).html(""),1==a&&$("#file"+e).addClass("required")}function EmptyFile(e,a){void 0===a&&(a=0),swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{if(!t.value)return!1;makeBlank_value(e,a),swal("Deleted!","Your file has been deleted.","success")})}function toolTipFunction(){$('[data-toggle="tooltip"]').tooltip()}function getCategory(e){void 0===e&&(e=0);var a=$("#department_id").val(),t=$("#SERVICE_ID").val(),i=$('input[name="_token"]').val();$.ajax({type:"POST",url:"/visa-recommendation/getCategory/byService",data:{_token:i,DEPT_ID:a,SERVICE_ID:t},dataType:"json",success:function(a){html="",a&&(html+='<option value="">Select Category</option>',$.each(a,function(a,t){html+=a==e?'<option value="'+a+'" selected>'+t+"</option>":'<option value="'+a+'">'+t+"</option>"}),$("#visa_category_id").html(html))},error:function(e,a,t){console.log(t)},beforeSend:function(e){},complete:function(){}})}function setVisaType2(e,a){$("input[name=agreeWithInstruction]").prop("checked",!1);var t=$('input[name="_token"]').val(),i=$("#app_id").val(),r=$("#viewMode").val();4==a?($("#on_arrival_information_area").hide(),$("#on_arrival_information_area1").hide(),$(".oa_req_field").removeClass("required"),$("#flight_details_area").hide(),$(".fda_req_field").removeClass("required"),$("#embassy_info_area").show(),$(".embassy_info_req_field").addClass("required"),$("#visit_purpose_div").hide(),$("#visa_purpose_id").removeClass("required"),$("#compensation_benefit_area").show(),$("#particular_information").show(),$(".cb_req_field").addClass("required"),$(".basic_local_amount").attr("min","1"),$(".mp_req_field").addClass("required"),$("#travel_history_area").show(),$(".th_req_field").addClass("required"),$("#embassy_airport_label").text("Embassy/ High Commission Info"),$("#brief_job_description_div").show(),$("#brief_job_description").addClass("required")):5==a?($("#compensation_benefit_area").hide(),$("#particular_information").hide(),$(".cb_req_field").removeClass("required"),$(".basic_local_amount").removeAttr("min"),$(".mp_req_field").removeClass("required"),$("#travel_history_area").hide(),$(".th_req_field").removeClass("required"),$("#on_arrival_information_area").show(),$("#on_arrival_information_area1").show(),$(".oa_req_field").addClass("required"),$("#flight_details_area").show(),$(".fda_req_field").addClass("required"),$("#embassy_info_area").hide(),$(".embassy_info_req_field").removeClass("required"),$("#visit_purpose_div").show(),$("#visa_purpose_id").addClass("required"),$("#embassy_airport_label").text("Airport Info"),$("#brief_job_description_div").hide(),$("#brief_job_description").removeClass("required")):1==a||3==a?($("#compensation_benefit_area").show(),$("#particular_information").show(),$(".cb_req_field").removeClass("required"),$(".basic_local_amount").attr("min","1"),$(".mp_req_field").addClass("required"),$("#MP_LOC_EXECUTIVE").addClass("required"),$("#MP_LOC_STAFF").addClass("required"),$("#FOR_LOC_EXECUTIVE").addClass("required"),$("#FOR_LOC_STAFF").addClass("required"),$("#travel_history_area").show(),$(".th_req_field").addClass("required"),$("#on_arrival_information_area").hide(),$("#on_arrival_information_area1").hide(),$(".oa_req_field").removeClass("required"),$("#flight_details_area").hide(),$(".fda_req_field").removeClass("required"),$("#embassy_info_area").show(),$(".embassy_info_req_field").addClass("required"),$("#visit_purpose_div").hide(),$("#visa_purpose_id").removeClass("required"),$("#embassy_airport_label").text("Embassy/ High Commission Info"),$("#brief_job_description_div").show(),$("#brief_job_description").addClass("required")):($("#compensation_benefit_area").show(),$("#particular_information").show(),$(".cb_req_field").addClass("required"),$(".basic_local_amount").attr("min","1"),$(".mp_req_field").addClass("required"),$("#MP_LOC_EXECUTIVE").addClass("required"),$("#MP_LOC_STAFF").addClass("required"),$("#FOR_LOC_EXECUTIVE").addClass("required"),$("#FOR_LOC_STAFF").addClass("required"),$("#travel_history_area").show(),$(".th_req_field").addClass("required"),$("#on_arrival_information_area").hide(),$("#on_arrival_information_area1").hide(),$(".oa_req_field").removeClass("required"),$("#flight_details_area").hide(),$(".fda_req_field").removeClass("required"),$("#embassy_info_area").show(),$(".embassy_info_req_field").addClass("required"),$("#visit_purpose_div").hide(),$("#visa_purpose_id").removeClass("required"),$("#embassy_airport_label").text("Embassy/ High Commission Info"),$("#brief_job_description_div").show(),$("#brief_job_description").addClass("required")),$.ajax({type:"POST",url:"/visa-recommendation/getDocList",dataType:"json",data:{_token:t,app_type_mapping_id:e,app_id:i,viewMode:r},success:function(e){null!=e.html&&$("#docListDiv").html(e.html)},error:function(e,a,t){alert("Unknown error occured. Please, try again after reload")}})}function hideRows(e){15==e?$("#hideableRow").show():$("#hideableRow").hide()}function getPurpose(e){"3"==e?$("#PURPOSE_OTHERS").show("slow"):$("#PURPOSE_OTHERS").hide("slow")}function visaOnarrivalSought(e){6==e?$("#VISA_ON_ARRIVAL_SOUGHT_OTHER_DIV").show("slow"):$("#VISA_ON_ARRIVAL_SOUGHT_OTHER_DIV").hide("slow")}function checkTravelHistory(e){"yes"==e?($("#travel_employment_period").show("slow"),$(".visited_req_field").addClass("required"),$(".prev_tr_visa").each(function(){$(this).trigger("change")}),$("input[name=th_visit_with_emp_visa]:checked").trigger("click")):($("#travel_employment_period").hide("slow"),$(".visited_req_field").removeClass("required"),$("#visited_with_emp_visa").hide("slow"),$(".visited_with_emp_visa_req").removeClass("required"),$("#travel_employment").hide("slow"),$(".travelFileRequired").removeClass("required"))}function thVisitWithEmpVisa(e){"yes"==e?($("#visited_with_emp_visa").show("slow"),$(".visited_with_emp_visa_req").addClass("required"),$("input[name=th_emp_work_permit]:checked").trigger("click")):($("#visited_with_emp_visa").hide("slow"),$(".visited_with_emp_visa_req").removeClass("required"))}function checkReceivedWorkPermit(e){"yes"==e?($("#travel_employment").show("slow"),$(".travelFileRequired").addClass("required"),$(".travelFileRequiredLabel").addClass("required-star")):($("#travel_employment").hide("slow"),$(".travelFileRequired").removeClass("required"),$(".travelFileRequiredLabel").removeClass("required-star"))}function TravelHistoryVisaType(e){13==e?$("#TRAVEL_VISA_OTHERS").show("slow"):$("#TRAVEL_VISA_OTHERS").hide("slow")}function checkCourtesyService(e){"yes"==e?$("#courtesy_service_reason_div").show("slow"):$("#courtesy_service_reason_div").hide("slow")}function setAddressForInsert(e){"18"==e?($("#office_address_bd_div").show(),$("#office_address_foreign_div").hide(),$("#office_road_label").html("Road Name/ Road No.")):($("#office_address_bd_div").hide(),$("#office_address_foreign_div").show(),$("#office_road_label").html("Street Name/ Street No."))}function getBranchByBankId(e,a,t,i){void 0===i&&(i=0);var r=$('input[name="_token"]').val();""!==a&&($("#"+e).after('<span class="loading_data">Loading...</span>'),$.ajax({type:"GET",url:"/users/get-branch-by-bank",data:{_token:r,bankId:a},success:function(a){var r='<option value="">Select One</option>';1==a.responseCode&&$.each(a.data,function(e,a){r+=e==i?'<option value="'+e+'" selected>'+a+"</option>":'<option value="'+e+'">'+a+"</option>"}),$("#"+t).html(r),$("#"+e).next().hide("slow")}}))}function getDistrictByDivisionId(e,a,t,i){void 0===i&&(i=0);var r=$('input[name="_token"]').val();""!==a&&($("#"+e).after('<span class="loading_data">Loading...</span>'),$.ajax({type:"GET",url:"/users/get-district-by-division",data:{_token:r,divisionId:a},success:function(a){var r='<option value="">Select One</option>';1==a.responseCode&&$.each(a.data,function(e,a){r+=e==i?'<option value="'+e+'" selected>'+a+"</option>":'<option value="'+e+'">'+a+"</option>"}),$("#"+t).html(r),$("#"+e).next().hide("slow")}}))}function getThanaByDistrictId(e,a,t,i){void 0===i&&(i=0);var r=$('input[name="_token"]').val();""!==a&&($("#"+e).after('<span class="loading_data">Loading...</span>'),$.ajax({type:"GET",url:"/users/get-thana-by-district-id",data:{_token:r,districtId:a},success:function(a){var r='<option value="">Select One</option>';1==a.responseCode&&$.each(a.data,function(e,a){r+=e==i?'<option value="'+e+'" selected>'+a+"</option>":'<option value="'+e+'">'+a+"</option>"}),$("#"+t).html(r),$("#"+e).next().hide("slow")}}))}function getEmbassyByCountryId(e,a,t){void 0===t&&(t=0);var i=$('input[name="_token"]').val();""!==e.id&&($("#"+e.id).after('<span class="loading_data">Loading Embassy/ High Commission...</span>'),$.ajax({type:"GET",url:"/visa-recommendation/get-embassy-by-country",data:{_token:i,country_id:e.value},success:function(i){var r='<option value="">Select One</option>';1==i.responseCode&&$.each(i.data,function(e,a){r+=e==t?'<option value="'+e+'" selected>'+a+"</option>":'<option value="'+e+'">'+a+"</option>"}),$("#"+a).html(r),$("#"+e.id).next().hide("slow")}}))}function getDesiredDurationAmount(e,a,t,i,r,o,n="",s="",d="",l=""){void 0===o&&(o="");var c=new Date(a.replace(/-/g," ")),u=new Date(t.replace(/-/g," "));Date.parse(c)>Date.parse(u)?$("#date_compare_error").text("Please enter here the valid start and end date."):""!=a&&""!=t&&""!=e&&$.ajax({url:"/process/get-duration",type:"POST",dataType:"text",data:{_token:$('input[name="_token"]').val(),start_date:a,end_date:t,process_type_id:e},success:function(e){var a=jQuery.parseJSON(e);1==n?(s.val(a.duration_difference),d.val(a.duration_fees),l.text(a.duration_year)):($("#"+i).val(a.duration_difference),$("#"+r).val(a.duration_fees),$("#"+o).text(a.duration_year)),$("#date_compare_error").text("")}})}function getDateDuration(e,a,t){""!=e&&""!=a&&$.ajax({url:"/process/get-date-duration",type:"POST",dataType:"text",data:{_token:$('input[name="_token"]').val(),start_date:e,end_date:a},success:function(e){var a=jQuery.parseJSON(e);$("#"+t).val(a.duration_difference)}})}function removeAttachedFile(e,a){swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{if(!t.value)return!1;$("#validate_field_"+e).val(""),$(".saved_file_"+e).html(""),$("#other_doc_name_"+e).val(""),1==a&&$("#file"+e).addClass("required"),swal("Deleted!","Your file has been deleted.","success")})}function getProcessByDepartment(e,a,t,i){void 0===i&&(i=0);var r=$('input[name="_token"]').val();""!=e?($("#"+e).after('<span class="loading_data">Loading service...</span>'),$.ajax({type:"POST",url:"/settings/getProcessByDept",data:{_token:r,dept_id:a},success:function(a){var r='<option value="">Select service/process</option>';1==a.responseCode&&$.each(a.data,function(e,a){r+=a==i?'<option value="'+a+'" selected>'+e+"</option>":'<option value="'+a+'">'+e+"</option>"}),$("#"+t).html(r),$("#"+e).next().hide("slow")},error:function(e,a,t){console.log(t)},beforeSend:function(e){},complete:function(){}})):console.log("Please select a valid department")}function addTableRow(e,a){var t=document.getElementById(a).cloneNode(!0);t.id="",t.style.display="";document.getElementById(e);var i=$("#"+e).find("tr").length-1,r=$("#"+e).find("tr").last().attr("data-number");$("#"+e).find("tr").last().find(".production_desc_1st").val();""!=r&&void 0!==r&&(i=parseInt(r)+1);var o=i,n="rowCount"+e+i;t.id=n,$("#"+e).append(t);for(var s=$("#"+e).find("#"+n).find("select"),d=0;d<s.length;d++){var l=s[d].name.replace("[0]","["+o+"]");s[d].name=l}s.val("");var c=$("#"+e).find("#"+n).find("input");for(d=0;d<c.length;d++){l=c[d].name.replace("[0]","["+o+"]");c[d].name=l}c.val("");var u=$("#"+e).find("#"+n).find("textarea");for(d=0;d<u.length;d++){l=u[d].name.replace("[0]","["+o+"]");u[d].name=l,$("#"+n).find(".readonlyClass").prop("readonly",!0)}u.val(""),s.prop("selectedIndex",0),"machinaryTbl"===e&&"rowMachineCount0"===a||"machinaryTbl"===e&&"rowMachineCount"===a?$("#"+e).find("#"+n).find("select.m_currency").val("107"):s.prop("selectedIndex",0),$("#"+e).find("#"+n).find(".addTableRows").removeClass("btn-primary").addClass("btn-danger").attr("onclick",'removeTableRow("'+e+'","'+n+'")'),$("#"+e).find("#"+n).find(".addTableRows > .fa").removeClass("fa-plus").addClass("fa-times"),$("#"+e).find("tr").last().attr("data-number",i),$("#"+e).find("#"+n).find(".onlyNumber").on("keydown",function(e){if(e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190])||65==e.keyCode&&!0===e.ctrlKey||67==e.keyCode&&!0===e.ctrlKey||86==e.keyCode&&!0===e.ctrlKey||88==e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39){var a=$(this);return setTimeout(function(){a.val(a.val().replace(/[^0-9.]/g,""))},4),(-1==$(this).val().indexOf(".")||"."!=e.key)&&($(this).removeClass("error"),!0)}return $(this).addClass("error"),!1}).on("paste",function(e){var a=$(this);setTimeout(function(){a.val(a.val().replace(/[^.0-9]/g,""))},4)}),$("#"+e).find(".datepicker").datetimepicker({viewMode:"years",format:"DD-MMM-YYYY",extraFormats:["DD.MM.YY","DD.MM.YYYY"],maxDate:"now",minDate:"01/01/1905"}),$("#"+e).find(".YearPicker").datetimepicker({viewMode:"years",format:"YYYY",extraFormats:["DD.MM.YY","DD.MM.YYYY"],minDate:"01/01/1905"})}function addTableRowTraHis(e,a){var t=document.getElementById(a).cloneNode(!0);t.id="",t.style.display="";document.getElementById(e);var i=$("#"+e).find("tr").length-1,r=$("#"+e).find("tr").last().attr("data-number");$("#"+e).find("tr").last().find(".production_desc_1st").val();""!=r&&void 0!==r&&(i=parseInt(r)+1);var o=i,n="rowCount"+e+i;t.id=n,$("#"+e).append(t);for(var s=$("#"+e).find("#"+n).find("select"),d=0;d<s.length;d++){var l=s[d].name.replace("[0]","["+o+"]");s[d].name=l}s.val("");var c=$("#"+e).find("#"+n).find("input");for(d=0;d<c.length;d++){l=c[d].name.replace("[0]","["+o+"]");c[d].name=l}c.val("");var u=$("#"+e).find("#"+n).find("textarea");for(d=0;d<u.length;d++){l=u[d].name.replace("[0]","["+o+"]");u[d].name=l,$("#"+n).find(".readonlyClass").prop("readonly",!0)}u.val(""),s.prop("selectedIndex",0),"machinaryTbl"===e&&"rowMachineCount0"===a||"machinaryTbl"===e&&"rowMachineCount"===a?$("#"+e).find("#"+n).find("select.m_currency").val("107"):s.prop("selectedIndex",0),$("#"+e).find("#"+n).find(".addTableRows").removeClass("btn-primary").addClass("btn-danger").attr("onclick",'removeTableRow("'+e+'","'+n+'")'),$("#"+e).find("#"+n).find(".addTableRows > .fa").removeClass("fa-plus").addClass("fa-times"),$("#"+e).find("tr").last().attr("data-number",i),$("#"+e).find("#"+n).find(".onlyNumber").on("keydown",function(e){if(e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190])||65==e.keyCode&&!0===e.ctrlKey||67==e.keyCode&&!0===e.ctrlKey||86==e.keyCode&&!0===e.ctrlKey||88==e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39){var a=$(this);return setTimeout(function(){a.val(a.val().replace(/[^0-9.]/g,""))},4),(-1==$(this).val().indexOf(".")||"."!=e.key)&&($(this).removeClass("error"),!0)}return $(this).addClass("error"),!1}).on("paste",function(e){var a=$(this);setTimeout(function(){a.val(a.val().replace(/[^.0-9]/g,""))},4)}),$("#"+e).find("#"+n).find(".datepickerTraHisStart0").datetimepicker({viewMode:"days",format:"DD-MMM-YYYY",extraFormats:["DD.MM.YY","DD.MM.YYYY"],maxDate:"now",minDate:"01/01/1905"}),$("#"+e).find("#"+n).find(".datepickerTraHisEnd0").datetimepicker({viewMode:"days",format:"DD-MMM-YYYY",useCurrent:!1}),$("#"+e).find("#"+n).find(".datepickerTraHisStart0").on("dp.change",function(a){var t=$("#"+e).find("#"+n).find(".datepickerTraHisStart0").find("input").val(),i=moment(t,["DD-MMM-YYYY"]);$("#"+e).find("#"+n).find(".datepickerTraHisEnd0").data("DateTimePicker").minDate(i)})}function removeTableRow(e,a){$("#"+e).find("#"+a).remove()}function getAttachmentType(e,a,t){void 0===t&&(t=0);var i=$('input[name="_token"]').val();$.ajax({type:"POST",url:"/settings/get-attachment-type",data:{_token:i,service_id:e},success:function(e){var i='<option value="">Select Attachment type</option>',r=0;$.each(e.result,function(e,a){r=1,i+=e==t?'<option value="'+e+'" selected>'+a+"</option>":'<option value="'+e+'">'+a+"</option>"}),0==r?(i='<option value="">no attachment type exist!</option>',$("#"+a).html(i),$("#"+a).removeClass("required")):$("#"+a).html(i)},error:function(e,a,t){alert("Unknown error occured. Please, try again after reload")},beforeSend:function(e){},complete:function(){}})}function LoadSubSector(e,a,t,i,r=!1){var o=$('input[name="_token"]').val();$.ajax({type:"POST",url:"/basic-information/load-sub-sector",data:{_token:o,sector_id:e},success:function(e){var a='<option value="">Select Sub-sector</option>',t=0;$.each(e.result,function(e,i){t=1,Number(e)==r.toString()?a+='<option value="'+e+'" selected>'+i+"</option>":a+='<option value="'+e+'">'+i+"</option>"}),0==t?(a='<option value="">no sub-sector exist!</option>',$("#"+i).html(a),$("#"+i).removeClass("required")):$("#"+i).html(a)},error:function(e,a,t){alert("Unknown error occured. Please, try again after reload")},beforeSend:function(e){},complete:function(){!1!==r&&SubSectorOthersDiv(r)}}),"0"==e?($("#"+a).show(),$("#"+t).addClass("required")):($("#"+a).hide(),$("#"+t).removeClass("required"))}function SubSectorOthersDiv(e,a="SUB_SECTOR_OTHERS",t){"0"==e?($("#"+a).show(),$("#"+t).addClass("required")):($("#"+a).hide(),$("#"+t).removeClass("required"))}function openChangeCompanyModal(e){var a=e.getAttribute("data-action");""!=a&&$.get(a,function(e,a){"success"===a?$("#changeCompanyModal .load_modal").html(e):$("#changeCompanyModal .load_modal").html("Unknown Error!"),$("#changeCompanyModal").modal("show",{backdrop:"static"})})}function checkPdfDocumentType(e,a){var t=document.getElementById(e),i=t.files;if(i&&i[0]){if("application/pdf"!=i[0].type)return swal({type:"error",title:"Oops...",text:"The file format is not valid! Please upload in pdf format."}),t.value="",!1;var r=parseFloat(i[0].size/1048576).toFixed(1);if(!(r<=a))return swal({type:"error",title:"Oops...",text:"Max file size "+a+"MB. You have uploaded "+r+"MB"}),t.value="",!1}}function startEndDateValidation(e,a){var t=$("#"+e).val(),i=$("#"+a).val();if(""!=t&&""!=i){var r=$.ajax({url:"/process/get-start-end-date-validation",type:"POST",dataType:"text",async:!1,data:{_token:$('input[name="_token"]').val(),start_date:t,end_date:i},success:function(t){0==jQuery.parseJSON(t).response?(swal({type:"error",title:"Oops...",text:"The end date must be higher than the start date."}),$("#"+e).addClass("error"),$("#"+a).addClass("error")):($("#"+e).removeClass("error"),$("#"+a).removeClass("error"))}});return jQuery.parseJSON(r.responseText).response}}function isHelpFulArticle(e,a,t){if(1==t)var i=a;if(2==t)var r=a;$.ajax({url:"/web/is-helpful-article",type:"GET",data:{is_helpful:e,service_detail_id:i,sub_agency_id:r,slug:t},async:!1,headers:{"X-CSRF-TOKEN":"{{ csrf_token() }}"},success:function(e){return console.log(e),toastr.success("Thanks for your feedback"),!1},error:function(e,a,t){console.log(t)}})}$(document).ready(function(){$(".onlyNumber").on("keydown",function(e){return e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190])||65==e.keyCode&&!0===e.ctrlKey||67==e.keyCode&&!0===e.ctrlKey||86==e.keyCode&&!0===e.ctrlKey||88==e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39?(-1==$(this).val().indexOf(".")||"."!=e.key)&&($(this).removeClass("error"),!0):($(this).addClass("error"),!1)}).on("paste",function(e){var a=$(this);setTimeout(function(){a.val(a.val().replace(/[^0-9]/g,""))},4)}).on("keyup",function(e){var a=$(this);setTimeout(function(){a.val(a.val().replace(/[^0-9]/g,""))},4)})});